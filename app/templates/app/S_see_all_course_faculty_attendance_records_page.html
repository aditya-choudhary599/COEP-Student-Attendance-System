{% extends 'app/base_template.html' %}
{% load static %}

{% block content %}

<a href="{% url 'student_home_page_view' student_id %}" class="btn btn-primary mt-2">Back to home</a>

<h2 class="text-center mb-4">All Course-Faculty Attendance Records</h2>

<h3 class="mb-3">Present Percentage: {{ present_percentage }}%</h3>

<div class="table-responsive">
    <table class="table table-dark table-bordered table-hover">
        <thead class="thead-dark">
            <tr>
                <th scope="col">Sr No.</th>
                <th scope="col">Date</th>
                <th scope="col">Start Time</th>
                <th scope="col">End Time</th>
                <th scope="col">Status</th>
            </tr>
        </thead>

        {% for record, status in all_records %}
        <tr>
            <th scope="row">{{ forloop.counter }}</th>
            <td>{{ record.date }}</td>
            <td>{{ record.start_time }}</td>
            <td>{{ record.end_time }}</td>
            <td>
                {% if status %}
                <span class="badge badge-success">
                    <i class="bi bi-check-circle-fill"></i> Present
                </span>
                {% else %}
                <span class="badge badge-danger">
                    <i class="bi bi-x-circle-fill"></i> Absent
                </span>
                {% endif %}
            </td>
        </tr>
        {% endfor %}

    </table>
</div>

{% endblock content %}